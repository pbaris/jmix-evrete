<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<fragment xmlns="http://jmix.io/schema/flowui/fragment">
	<data>
		<instance id="ruleDc" class="gr.netmechanics.jmix.evrete.entity.Rule" provided="true"/>
	</data>
	<content>
		<vbox id="root" padding="false">
			<formLayout dataContainer="ruleDc">
				<responsiveSteps>
					<responsiveStep minWidth="0" columns="1"/>
					<responsiveStep minWidth="40em" columns="3"/>
				</responsiveSteps>
				<textField id="nameField" property="name"/>
				<integerField id="priorityField" property="priority" clearButtonVisible="true" step="1" stepButtonsVisible="true"/>
				<switch id="activeField" property="active"/>
			</formLayout>

			<vbox classNames="border rounded rounded-m">
				<accordion width="100%">
					<!-- Property Conditions -->
					<accordionPanel summaryText="msg://rule.propertyConditions.header" themeNames="reverse filled">
						<vbox padding="false" spacing="false">
							<vbox id="propertyConditionsContainer" padding="false" spacing="false"/>
							<button id="addPropertyConditionButton" text="msg://rule.propertyConditions.add" themeNames="tertiary small" icon="PLUS"/>
						</vbox>
					</accordionPanel>

					<!-- Action -->
					<accordionPanel summaryText="msg://rule.action.header" themeNames="reverse filled">
						<vbox padding="false" spacing="false">
							<select id="actionSelector" width="100%" classNames="box-border"
									label="msg://gr.netmechanics.jmix.evrete.entity/RuleActionDefinition.beanClass"/>

							<codeEditor id="actionEditor" width="100%" height="30em" classNames="box-border"
										label="msg://gr.netmechanics.jmix.evrete.entity/RuleActionDefinition.code"
										helperText="msg://rule.action.helperText"
										defaultSuggestionsEnabled="true" liveSuggestionsEnabled="true"/>
						</vbox>
					</accordionPanel>
				</accordion>
			</vbox>
		</vbox>
	</content>
</fragment>